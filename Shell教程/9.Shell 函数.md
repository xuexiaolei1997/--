# Shell 函数

linux shell 可以用户定义函数，然后在shell脚本中可以随便调用。

shell中函数的定义格式如下：

[ function ] funname [()]

{

    action;

    [return int;]

}

说明：

* 1、可以带 **function fun()** 定义，也可以直接 **fun()** 定义,不带任何参数。
* 2、参数返回，可以显示加：**return** 返回，如果不加，将以最后一条命令运行结果，作为返回值。 **return** 后跟数值 **n(0-255)**.

下面的例子定义了一个函数并进行调用：

#!/bin/bash

demoFun(){
    echo "这是我的第一个 shell 函数!"
}
echo "-----函数开始执行-----"
demoFun
echo "-----函数执行完毕-----"


## 函数参数

在Shell中，调用函数时可以向其传递参数。在函数体内部，通过 $n 的形式来获取参数的值，例如，$1表示第一个参数，$2表示第二个参数...


注意，\$10 不能获取第十个参数，获取第十个参数需要\${10}。当n>=10时，需要使用\${n}来获取参数。

另外，还有几个特殊字符用来处理参数：

| 参数处理                                                          | 说明                                                          |
| ----------------------------------------------------------------- | ------------------------------------------------------------- |
| $#                                                                | 传递到脚本或函数的参数个数                                    |
| $*                                                                | 以一个单字符串显示所有向脚本传递的参数                        |
| $$                                                                | 脚本运行的当前进程ID号                                        |
| $!                                                                | 后台运行的最后一个进程的ID号                                  |
| $@       | 与\$*相同，但是使用时加引号，并在引号中返回每个参数。 |                                                               |
| $-                                                                | 显示Shell使用的当前选项，与set命令功能相同。                  |
| $?                                                                | 显示最后命令的退出状态。0表示没有错误，其他任何值表明有错误。 |
